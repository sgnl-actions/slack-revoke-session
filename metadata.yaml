name: slack-revoke-session
description: Revoke all active sessions for a Slack user by email address

# Input parameters for web form generation
inputs:
  userEmail:
    type: email
    description: The email address of the Slack user whose sessions should be revoked
    required: true
    validation:
      min: 1
      max: 254

  delay:
    type: text
    description: Delay between API calls (e.g., 100ms, 1s). Default 100ms
    required: false
    validation:
      max: 50

  address:
    type: text
    description: Slack API base URL (e.g., https://slack.com)
    required: false
    validation:
      min: 1
      max: 255

# Expected output structure
outputs:
  userEmail:
    type: text
    description: The email address that was processed

  userId:
    type: text
    description: The Slack user ID that was resolved from the email

  sessionsRevoked:
    type: boolean
    description: Whether the sessions were successfully revoked

  revokedAt:
    type: datetime
    description: When the revocation completed (ISO 8601)

# Required secrets (configured at deployment time)
secrets:
  BEARER_AUTH_TOKEN:
    description: Slack Bot User OAuth Token with required scopes
    required: true

# Environment variables
environment:
  ADDRESS:
    description: Base URL for Slack API
    default: "https://slack.com"

# Runtime configuration
runtime:
  type: nodejs-22
  timeout: 30s
  memory: 128Mi